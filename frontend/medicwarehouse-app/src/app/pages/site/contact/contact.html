<app-header></app-header>
<main class="omni-care-site">
  <section class="section-padding">
    <div class="container-custom">
      <!-- Success State -->
      <div *ngIf="showSuccessMessage" class="max-w-lg mx-auto text-center">
        <div class="w-20 h-20 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-6">
          <span class="material-icons text-success" style="font-size: 2.5rem;">check_circle</span>
        </div>
        <h1 class="font-display text-3xl font-bold text-foreground mb-4">
          Mensagem Enviada!
        </h1>
        <p class="text-muted-foreground mb-8">
          Obrigado por entrar em contato. Nossa equipe responderá em até 24 horas.
        </p>
        <button (click)="resetSuccessState()" class="omni-btn omni-btn-outline">
          Enviar nova mensagem
        </button>
      </div>

      <!-- Contact Form -->
      <div *ngIf="!showSuccessMessage">
        <!-- Header -->
        <div class="text-center max-w-3xl mx-auto mb-12">
          <span class="section-badge">
            Contato
          </span>
          <h1 class="section-title">
            Fale com nossa
            <span class="text-gradient">equipe</span>
          </h1>
          <p class="text-lg text-muted-foreground">
            Estamos prontos para ajudar você a transformar sua clínica. Entre em contato!
          </p>
        </div>

        <div class="contact-grid">
          <!-- Contact Info -->
          <div class="contact-info">
            <div class="contact-info-cards">
              <!-- Phone -->
              <div class="contact-info-card card-elevated animate-fade-in">
                <div class="contact-info-icon">
                  <span class="material-icons">phone</span>
                </div>
                <div>
                  <h3 class="contact-info-title">Telefone</h3>
                  <p class="contact-info-value">
                    <a [href]="'tel:' + companyPhone">{{ companyPhone }}</a>
                  </p>
                  <p class="contact-info-description">Segunda a Sexta, 8h às 18h</p>
                </div>
              </div>

              <!-- Email -->
              <div class="contact-info-card card-elevated animate-fade-in">
                <div class="contact-info-icon">
                  <span class="material-icons">email</span>
                </div>
                <div>
                  <h3 class="contact-info-title">Email</h3>
                  <p class="contact-info-value">
                    <a [href]="'mailto:' + companyEmail">{{ companyEmail }}</a>
                  </p>
                  <p class="contact-info-description">Respondemos em até 24h</p>
                </div>
              </div>

              <!-- Address -->
              <div class="contact-info-card card-elevated animate-fade-in">
                <div class="contact-info-icon">
                  <span class="material-icons">location_on</span>
                </div>
                <div>
                  <h3 class="contact-info-title">Endereço</h3>
                  <p class="contact-info-value">Av. Paulista, 1000</p>
                  <p class="contact-info-description">São Paulo - SP, 01310-100</p>
                </div>
              </div>

              <!-- Hours -->
              <div class="contact-info-card card-elevated animate-fade-in">
                <div class="contact-info-icon">
                  <span class="material-icons">schedule</span>
                </div>
                <div>
                  <h3 class="contact-info-title">Horário</h3>
                  <p class="contact-info-value">Seg - Sex: 8h às 18h</p>
                  <p class="contact-info-description">Sábado: 9h às 13h</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Contact Form -->
          <div class="contact-form-section">
            <form (ngSubmit)="onSubmit()" class="contact-form card-elevated animate-fade-in-up">
              <h2 class="contact-form-title">
                Envie sua mensagem
              </h2>

              <!-- Success Alert -->
              <div class="alert alert-success" *ngIf="submitSuccess && !showSuccessMessage">
                <span class="material-icons" style="font-size: 1.25rem;">check_circle</span>
                Mensagem enviada com sucesso! Entraremos em contato em breve.
              </div>

              <!-- Error Alert -->
              <div class="alert alert-error" *ngIf="submitError">
                <span class="material-icons" style="font-size: 1.25rem;">error</span>
                {{ submitError }}
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="name" class="form-label">Nome completo *</label>
                  <input
                    type="text"
                    id="name"
                    [(ngModel)]="model.name"
                    name="name"
                    required
                    placeholder="Seu nome"
                    class="omni-input"
                  />
                </div>
                <div class="form-group">
                  <label for="email" class="form-label">Email *</label>
                  <input
                    type="email"
                    id="email"
                    [(ngModel)]="model.email"
                    name="email"
                    required
                    placeholder="seu@email.com"
                    class="omni-input"
                  />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="phone" class="form-label">Telefone *</label>
                  <input
                    type="tel"
                    id="phone"
                    [(ngModel)]="model.phone"
                    name="phone"
                    required
                    placeholder="(11) 99999-9999"
                    class="omni-input"
                  />
                </div>
                <div class="form-group">
                  <label for="subject" class="form-label">Assunto *</label>
                  <input
                    type="text"
                    id="subject"
                    [(ngModel)]="model.subject"
                    name="subject"
                    required
                    placeholder="Como podemos ajudar?"
                    class="omni-input"
                  />
                </div>
              </div>

              <div class="form-group">
                <label for="message" class="form-label">Mensagem *</label>
                <textarea
                  id="message"
                  [(ngModel)]="model.message"
                  name="message"
                  rows="5"
                  required
                  placeholder="Descreva como podemos ajudar sua clínica..."
                  class="omni-textarea"
                ></textarea>
              </div>

              <button 
                type="submit" 
                class="omni-btn omni-btn-primary omni-btn-lg w-full sm:w-auto"
                [disabled]="isSubmitting || !isValid()"
              >
                <span *ngIf="!isSubmitting" class="flex items-center gap-2">
                  <span class="material-icons" style="font-size: 1.25rem;">send</span>
                  Enviar Mensagem
                </span>
                <span *ngIf="isSubmitting">Enviando...</span>
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>
<app-footer></app-footer>
