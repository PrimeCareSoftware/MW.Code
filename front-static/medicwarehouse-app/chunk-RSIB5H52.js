import{a as O,b as m,c as S,d as E,f as F,g as w,h as N,j as A,k as I,l as k,m as z,n as D,o as T,q as L}from"./chunk-HJDNBRIJ.js";import{a as V}from"./chunk-Z4ZWIJEB.js";import{a as j}from"./chunk-UYMFQJ5P.js";import{a as R}from"./chunk-YHTCB7RM.js";import{$ as n,B as a,Ca as _,D as l,Da as P,E as b,N as u,O as v,Q as M,R as C,S as p,T as t,U as e,V as d,X as y,Y as f,aa as g,ba as h,ta as x,x as c}from"./chunk-5XZGLIZJ.js";var B=(o,r)=>r.id;function Y(o,r){if(o&1&&(t(0,"div",3),n(1),e()),o&2){let i=f();a(),g(i.errorMessage())}}function U(o,r){if(o&1&&(t(0,"div",4),n(1),e()),o&2){let i=f();a(),g(i.successMessage())}}function $(o,r){if(o&1&&(t(0,"option",11),n(1),e()),o&2){let i=r.$implicit;p("value",i.id),a(),g(i.name)}}var q=class o{constructor(r,i,s,G){this.fb=r;this.appointmentService=i;this.patientService=s;this.router=G;this.appointmentForm=this.fb.group({patientId:["",[m.required]],clinicId:["00000000-0000-0000-0000-000000000001",[m.required]],scheduledDate:["",[m.required]],scheduledTime:["",[m.required]],durationMinutes:[30,[m.required,m.min(15)]],type:["Regular",[m.required]],notes:[""]})}appointmentForm;patients=c([]);isLoading=c(!1);errorMessage=c("");successMessage=c("");ngOnInit(){this.loadPatients()}loadPatients(){this.patientService.getAll().subscribe({next:r=>{this.patients.set(r)},error:r=>{this.errorMessage.set("Erro ao carregar pacientes"),console.error("Error loading patients:",r)}})}onSubmit(){this.appointmentForm.valid&&(this.isLoading.set(!0),this.errorMessage.set(""),this.successMessage.set(""),this.appointmentService.create(this.appointmentForm.value).subscribe({next:()=>{this.successMessage.set("Agendamento criado com sucesso!"),this.isLoading.set(!1),setTimeout(()=>this.router.navigate(["/appointments"]),1500)},error:r=>{this.errorMessage.set("Erro ao criar agendamento"),this.isLoading.set(!1),console.error("Error creating appointment:",r)}}))}static \u0275fac=function(i){return new(i||o)(l(T),l(j),l(V),l(_))};static \u0275cmp=b({type:o,selectors:[["app-appointment-form"]],decls:56,vars:5,consts:[[1,"appointment-form-container"],[1,"page-header"],["routerLink","/appointments",1,"btn","btn-secondary"],[1,"alert","alert-error"],[1,"alert","alert-success"],[1,"appointment-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-group"],["for","patientId"],["id","patientId","formControlName","patientId",1,"form-control"],["value",""],[3,"value"],[1,"form-row"],["for","scheduledDate"],["type","date","id","scheduledDate","formControlName","scheduledDate",1,"form-control"],["for","scheduledTime"],["type","time","id","scheduledTime","formControlName","scheduledTime",1,"form-control"],["for","durationMinutes"],["type","number","id","durationMinutes","formControlName","durationMinutes","min","15","step","15",1,"form-control"],["for","type"],["id","type","formControlName","type",1,"form-control"],["value","Regular"],["value","Emergency"],["value","FollowUp"],["value","Consultation"],["for","notes"],["id","notes","formControlName","notes","rows","3",1,"form-control"],[1,"form-actions"],["type","button","routerLink","/appointments",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(i,s){i&1&&(d(0,"app-navbar"),t(1,"div",0)(2,"div",1)(3,"h1"),n(4,"Novo Agendamento"),e(),t(5,"button",2),n(6,"Voltar"),e()(),u(7,Y,2,1,"div",3),u(8,U,2,1,"div",4),t(9,"form",5),y("ngSubmit",function(){return s.onSubmit()}),t(10,"div",6)(11,"h3"),n(12,"Informa\xE7\xF5es do Agendamento"),e(),t(13,"div",7)(14,"label",8),n(15,"Paciente *"),e(),t(16,"select",9)(17,"option",10),n(18,"Selecione um paciente"),e(),M(19,$,2,2,"option",11,B),e()(),t(21,"div",12)(22,"div",7)(23,"label",13),n(24,"Data *"),e(),d(25,"input",14),e(),t(26,"div",7)(27,"label",15),n(28,"Hor\xE1rio *"),e(),d(29,"input",16),e()(),t(30,"div",12)(31,"div",7)(32,"label",17),n(33,"Dura\xE7\xE3o (minutos) *"),e(),d(34,"input",18),e(),t(35,"div",7)(36,"label",19),n(37,"Tipo *"),e(),t(38,"select",20)(39,"option",21),n(40,"Regular"),e(),t(41,"option",22),n(42,"Emerg\xEAncia"),e(),t(43,"option",23),n(44,"Retorno"),e(),t(45,"option",24),n(46,"Consulta"),e()()()(),t(47,"div",7)(48,"label",25),n(49,"Observa\xE7\xF5es"),e(),d(50,"textarea",26),e()(),t(51,"div",27)(52,"button",28),n(53,"Cancelar"),e(),t(54,"button",29),n(55),e()()()()),i&2&&(a(7),v(s.errorMessage()?7:-1),a(),v(s.successMessage()?8:-1),a(),p("formGroup",s.appointmentForm),a(10),C(s.patients()),a(35),p("disabled",s.appointmentForm.invalid||s.isLoading()),a(),h(" ",s.isLoading()?"Criando...":"Criar Agendamento"," "))},dependencies:[x,L,F,k,z,O,w,I,S,E,D,N,A,P,R],styles:['@charset "UTF-8";.appointment-form-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:var(--spacing-8) var(--spacing-6)}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacing-8)}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--gray-900);margin:0;font-size:var(--font-size-4xl);font-weight:700}.alert[_ngcontent-%COMP%]{padding:var(--spacing-4);border-radius:var(--radius-lg);margin-bottom:var(--spacing-6);border-left:4px solid}.alert.alert-error[_ngcontent-%COMP%]{background-color:var(--error-50);color:var(--error-700);border-color:var(--error-500)}.alert.alert-success[_ngcontent-%COMP%]{background-color:var(--success-50);color:var(--success-700);border-color:var(--success-500)}.appointment-form[_ngcontent-%COMP%]{background:#fff;padding:var(--spacing-8);border-radius:var(--radius-xl);box-shadow:var(--shadow-md);border:1px solid var(--gray-200)}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--gray-900);margin:0 0 var(--spacing-6) 0;font-size:var(--font-size-2xl);font-weight:600;display:flex;align-items:center;gap:var(--spacing-2)}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:before{content:"\\1f4c5";font-size:var(--font-size-3xl)}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:var(--spacing-5);margin-bottom:var(--spacing-5)}.form-group[_ngcontent-%COMP%]{margin-bottom:var(--spacing-5)}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:var(--spacing-2);color:var(--gray-700);font-weight:600;font-size:var(--font-size-sm)}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:var(--spacing-3) var(--spacing-4);border:2px solid var(--gray-300);border-radius:var(--radius-lg);font-size:var(--font-size-sm);box-sizing:border-box;transition:all var(--transition-base);background-color:#fff}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-500);box-shadow:0 0 0 3px var(--primary-50);transform:translateY(-1px)}.form-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;font-family:inherit;min-height:100px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:var(--spacing-4);margin-top:var(--spacing-8);padding-top:var(--spacing-8);border-top:2px solid var(--gray-100)}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:var(--spacing-4) var(--spacing-8);border:none;border-radius:var(--radius-lg);font-size:var(--font-size-base);font-weight:600;cursor:pointer;transition:all var(--transition-base)}.form-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-600),var(--primary-700));color:#fff;box-shadow:var(--shadow-md)}.form-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,var(--primary-700),var(--primary-800));transform:translateY(-2px);box-shadow:var(--shadow-lg)}.form-actions[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.form-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background-color:var(--gray-200);color:var(--gray-700);border:1px solid var(--gray-300)}.form-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background-color:var(--gray-300)}.btn[_ngcontent-%COMP%]{padding:var(--spacing-3) var(--spacing-6);border:none;border-radius:var(--radius-lg);font-size:var(--font-size-base);font-weight:600;cursor:pointer;transition:all var(--transition-base)}.btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-600),var(--primary-700));color:#fff;box-shadow:var(--shadow-md)}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,var(--primary-700),var(--primary-800));transform:translateY(-2px);box-shadow:var(--shadow-lg)}.btn.btn-secondary[_ngcontent-%COMP%]{background-color:var(--gray-200);color:var(--gray-700)}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background-color:var(--gray-300)}']})};export{q as AppointmentForm};
