{
  "info": {
    "name": "PrimeCare Software API",
    "_postman_id": "primecaresoftware-api-collection",
    "description": "# PrimeCare Software API - Cole√ß√£o Completa\n\nEsta cole√ß√£o cont√©m todos os endpoints da API PrimeCare Software para teste e integra√ß√£o.\n\n## üîê Autentica√ß√£o\n\nA API usa autentica√ß√£o JWT (Bearer Token). Para usar os endpoints protegidos:\n\n1. Execute o endpoint **POST /api/auth/login** da pasta \"Auth\"\n2. Copie o token JWT retornado no campo \"token\"\n3. V√° em \"Variables\" (na aba desta cole√ß√£o)\n4. Cole o token no valor da vari√°vel \"bearer_token\"\n5. Os requests j√° est√£o configurados para usar automaticamente o token\n\n### Credenciais Padr√£o (Ap√≥s Data Seeding)\n\n- **Username**: admin\n- **Password**: admin123\n- **TenantId**: demo-clinic-001\n\n## üåê Ambientes\n\nVoc√™ pode configurar diferentes ambientes usando as vari√°veis:\n\n- **base_url**: URL base da API (padr√£o: http://localhost:5000)\n- **bearer_token**: Token JWT obtido ap√≥s login\n- **tenant_id**: ID do tenant/cl√≠nica (padr√£o: demo-clinic-001)\n\n## üìö Documenta√ß√£o\n\nPara mais informa√ß√µes:\n- Swagger UI: http://localhost:5000/swagger\n- Reposit√≥rio: https://github.com/PrimeCare Software/MW.Code\n- README: https://github.com/PrimeCare Software/MW.Code/blob/main/README.md",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:5000",
      "type": "string"
    },
    {
      "key": "bearer_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "tenant_id",
      "value": "demo-clinic-001",
      "type": "string"
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{bearer_token}}",
        "type": "string"
      }
    ]
  },
  "item": [
    {
      "name": "Auth",
      "description": "Endpoints de autentica√ß√£o e gerenciamento de usu√°rios",
      "item": [
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"admin\",\n  \"password\": \"admin123\",\n  \"tenantId\": \"{{tenant_id}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "login"
              ]
            },
            "description": "Autentica um usu√°rio e retorna um token JWT"
          },
          "response": []
        },
        {
          "name": "Get Current User Info",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/me",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "me"
              ]
            },
            "description": "Obt√©m informa√ß√µes do usu√°rio autenticado"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Patients",
      "description": "Endpoints para gerenciamento de pacientes",
      "item": [
        {
          "name": "List Patients",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/patients",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "patients"
              ]
            },
            "description": "Lista todos os pacientes da cl√≠nica"
          },
          "response": []
        },
        {
          "name": "Get Patient by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/patients/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "patients",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            },
            "description": "Obt√©m um paciente espec√≠fico por ID"
          },
          "response": []
        },
        {
          "name": "Search Patients",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/patients/search?searchTerm=",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "patients",
                "search"
              ],
              "query": [
                {
                  "key": "searchTerm",
                  "value": "",
                  "description": "CPF, Nome ou Telefone"
                }
              ]
            },
            "description": "Busca pacientes por CPF, Nome ou Telefone"
          },
          "response": []
        },
        {
          "name": "Get Patient by Document (CPF)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/patients/by-document/:cpf",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "patients",
                "by-document",
                ":cpf"
              ],
              "variable": [
                {
                  "key": "cpf",
                  "value": ""
                }
              ]
            },
            "description": "Busca paciente por CPF em todas as cl√≠nicas"
          },
          "response": []
        },
        {
          "name": "Create Patient",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Jo√£o Silva\",\n  \"document\": \"123.456.789-00\",\n  \"dateOfBirth\": \"1990-01-15\",\n  \"phone\": \"+55 11 98765-4321\",\n  \"email\": \"joao@email.com\",\n  \"address\": \"Rua Exemplo, 123\",\n  \"guardianId\": null\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/patients",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "patients"
              ]
            },
            "description": "Cria um novo paciente (guardianId opcional para crian√ßas)"
          },
          "response": []
        },
        {
          "name": "Update Patient",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Jo√£o Silva\",\n  \"document\": \"123.456.789-00\",\n  \"dateOfBirth\": \"1990-01-15\",\n  \"phone\": \"+55 11 98765-4321\",\n  \"email\": \"joao@email.com\",\n  \"address\": \"Rua Exemplo, 123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/patients/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "patients",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            },
            "description": "Atualiza um paciente existente"
          },
          "response": []
        },
        {
          "name": "Delete Patient",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/patients/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "patients",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            },
            "description": "Exclui um paciente"
          },
          "response": []
        },
        {
          "name": "Link Patient to Clinic",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/patients/:patientId/link-clinic/:clinicId",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "patients",
                ":patientId",
                "link-clinic",
                ":clinicId"
              ],
              "variable": [
                {
                  "key": "patientId",
                  "value": ""
                },
                {
                  "key": "clinicId",
                  "value": ""
                }
              ]
            },
            "description": "Vincula um paciente a uma cl√≠nica"
          },
          "response": []
        },
        {
          "name": "Link Child to Guardian",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/patients/:childId/link-guardian/:guardianId",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "patients",
                ":childId",
                "link-guardian",
                ":guardianId"
              ],
              "variable": [
                {
                  "key": "childId",
                  "value": ""
                },
                {
                  "key": "guardianId",
                  "value": ""
                }
              ]
            },
            "description": "Vincula uma crian√ßa a um respons√°vel"
          },
          "response": []
        },
        {
          "name": "List Children of Guardian",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/patients/:guardianId/children",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "patients",
                ":guardianId",
                "children"
              ],
              "variable": [
                {
                  "key": "guardianId",
                  "value": ""
                }
              ]
            },
            "description": "Lista todos os filhos de um respons√°vel"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Appointments",
      "description": "Endpoints para gerenciamento de agendamentos",
      "item": [
        {
          "name": "Create Appointment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"patientId\": \"\",\n  \"doctorId\": \"\",\n  \"clinicId\": \"{{tenant_id}}\",\n  \"scheduledDate\": \"2024-12-01T10:00:00\",\n  \"appointmentType\": \"Consulta\",\n  \"notes\": \"Consulta de rotina\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/appointments",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments"
              ]
            },
            "description": "Cria um novo agendamento"
          },
          "response": []
        },
        {
          "name": "Get Appointment by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/appointments/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            },
            "description": "Obt√©m um agendamento espec√≠fico por ID"
          },
          "response": []
        },
        {
          "name": "Cancel Appointment",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/appointments/:id/cancel",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments",
                ":id",
                "cancel"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            },
            "description": "Cancela um agendamento"
          },
          "response": []
        },
        {
          "name": "Daily Agenda",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/appointments/agenda",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments",
                "agenda"
              ]
            },
            "description": "Obt√©m a agenda di√°ria"
          },
          "response": []
        },
        {
          "name": "Available Time Slots",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/appointments/available-slots",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "appointments",
                "available-slots"
              ]
            },
            "description": "Lista hor√°rios dispon√≠veis para agendamento"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Medical Records",
      "description": "Endpoints para prontu√°rios m√©dicos",
      "item": [
        {
          "name": "Create Medical Record",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"appointmentId\": \"\",\n  \"symptoms\": \"Dor de cabe√ßa\",\n  \"diagnosis\": \"Enxaqueca\",\n  \"treatment\": \"Repouso e analg√©sicos\",\n  \"prescription\": \"Paracetamol 500mg\",\n  \"notes\": \"Paciente relata melhora\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/medical-records",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "medical-records"
              ]
            },
            "description": "Cria um novo prontu√°rio m√©dico"
          },
          "response": []
        },
        {
          "name": "Update Medical Record",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"symptoms\": \"Dor de cabe√ßa\",\n  \"diagnosis\": \"Enxaqueca\",\n  \"treatment\": \"Repouso e analg√©sicos\",\n  \"prescription\": \"Paracetamol 500mg\",\n  \"notes\": \"Paciente relata melhora\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/medical-records/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "medical-records",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            },
            "description": "Atualiza um prontu√°rio m√©dico"
          },
          "response": []
        },
        {
          "name": "Complete Medical Record",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/medical-records/:id/complete",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "medical-records",
                ":id",
                "complete"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            },
            "description": "Finaliza o atendimento"
          },
          "response": []
        },
        {
          "name": "Get by Appointment",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/medical-records/appointment/:appointmentId",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "medical-records",
                "appointment",
                ":appointmentId"
              ],
              "variable": [
                {
                  "key": "appointmentId",
                  "value": ""
                }
              ]
            },
            "description": "Busca prontu√°rio por agendamento"
          },
          "response": []
        },
        {
          "name": "Patient History",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/medical-records/patient/:patientId",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "medical-records",
                "patient",
                ":patientId"
              ],
              "variable": [
                {
                  "key": "patientId",
                  "value": ""
                }
              ]
            },
            "description": "Obt√©m hist√≥rico m√©dico do paciente"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Procedures",
      "description": "Endpoints para procedimentos e servi√ßos",
      "item": [
        {
          "name": "List Procedures",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/procedures",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "procedures"
              ]
            },
            "description": "Lista todos os procedimentos da cl√≠nica"
          },
          "response": []
        },
        {
          "name": "Get Procedure by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/procedures/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "procedures",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            },
            "description": "Obt√©m um procedimento por ID"
          },
          "response": []
        },
        {
          "name": "Create Procedure",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Preenchimento Labial\",\n  \"code\": \"PROC-001\",\n  \"description\": \"Procedimento est√©tico de preenchimento labial com √°cido hialur√¥nico\",\n  \"category\": \"Aesthetic\",\n  \"price\": 1500.00,\n  \"durationMinutes\": 60,\n  \"requiresMaterials\": true,\n  \"acceptedHealthInsurances\": \"Unimed, Amil\",\n  \"allowInMedicalAttendance\": true,\n  \"allowInExclusiveProcedureAttendance\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/procedures",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "procedures"
              ]
            },
            "description": "Cria um novo procedimento. A categoria pode ser enviada como string (ex: 'Aesthetic') ou n√∫mero (ex: 9)."
          },
          "response": []
        },
        {
          "name": "Update Procedure",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Consulta Cl√≠nica\",\n  \"description\": \"Consulta m√©dica geral\",\n  \"price\": 150.00,\n  \"duration\": 30,\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/procedures/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "procedures",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            },
            "description": "Atualiza um procedimento"
          },
          "response": []
        },
        {
          "name": "Delete Procedure",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/procedures/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "procedures",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            },
            "description": "Desativa um procedimento"
          },
          "response": []
        },
        {
          "name": "Add Procedure to Appointment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"procedureId\": \"\",\n  \"quantity\": 1,\n  \"price\": 150.00\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/procedures/appointments/:appointmentId/procedures",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "procedures",
                "appointments",
                ":appointmentId",
                "procedures"
              ],
              "variable": [
                {
                  "key": "appointmentId",
                  "value": ""
                }
              ]
            },
            "description": "Adiciona procedimento a um atendimento"
          },
          "response": []
        },
        {
          "name": "List Appointment Procedures",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/procedures/appointments/:appointmentId/procedures",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "procedures",
                "appointments",
                ":appointmentId",
                "procedures"
              ],
              "variable": [
                {
                  "key": "appointmentId",
                  "value": ""
                }
              ]
            },
            "description": "Lista procedimentos de um atendimento"
          },
          "response": []
        },
        {
          "name": "Billing Summary",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/procedures/appointments/:appointmentId/billing-summary",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "procedures",
                "appointments",
                ":appointmentId",
                "billing-summary"
              ],
              "variable": [
                {
                  "key": "appointmentId",
                  "value": ""
                }
              ]
            },
            "description": "Resumo de cobran√ßa com total"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Expenses",
      "description": "Endpoints para gerenciamento de despesas (contas a pagar)",
      "item": [
        {
          "name": "List Expenses",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/expenses",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "expenses"
              ],
              "query": [
                {
                  "key": "clinicId",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "status",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "category",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "Lista despesas com filtros opcionais"
          },
          "response": []
        },
        {
          "name": "Get Expense by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/expenses/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "expenses",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            },
            "description": "Obt√©m uma despesa por ID"
          },
          "response": []
        },
        {
          "name": "Create Expense",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Aluguel\",\n  \"amount\": 2000.00,\n  \"dueDate\": \"2024-12-05\",\n  \"category\": \"Aluguel\",\n  \"notes\": \"Pagamento mensal\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/expenses",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "expenses"
              ]
            },
            "description": "Cria uma nova despesa"
          },
          "response": []
        },
        {
          "name": "Update Expense",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Aluguel\",\n  \"amount\": 2000.00,\n  \"dueDate\": \"2024-12-05\",\n  \"category\": \"Aluguel\",\n  \"notes\": \"Pagamento mensal\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/expenses/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "expenses",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            },
            "description": "Atualiza uma despesa"
          },
          "response": []
        },
        {
          "name": "Pay Expense",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/expenses/:id/pay",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "expenses",
                ":id",
                "pay"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            },
            "description": "Marca despesa como paga"
          },
          "response": []
        },
        {
          "name": "Cancel Expense",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/expenses/:id/cancel",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "expenses",
                ":id",
                "cancel"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            },
            "description": "Cancela uma despesa"
          },
          "response": []
        },
        {
          "name": "Delete Expense",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/expenses/:id",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "expenses",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            },
            "description": "Exclui uma despesa"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Reports",
      "description": "Endpoints para relat√≥rios e dashboards",
      "item": [
        {
          "name": "Financial Summary",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/reports/financial-summary",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "reports",
                "financial-summary"
              ]
            },
            "description": "Resumo financeiro completo (receitas, despesas, lucro)"
          },
          "response": []
        },
        {
          "name": "Revenue Report",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/reports/revenue",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "reports",
                "revenue"
              ]
            },
            "description": "Relat√≥rio de receita com breakdown di√°rio"
          },
          "response": []
        },
        {
          "name": "Appointments Report",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/reports/appointments",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "reports",
                "appointments"
              ]
            },
            "description": "Relat√≥rio de agendamentos (estat√≠sticas, status, tipos)"
          },
          "response": []
        },
        {
          "name": "Patients Report",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/reports/patients",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "reports",
                "patients"
              ]
            },
            "description": "Relat√≥rio de crescimento de pacientes"
          },
          "response": []
        },
        {
          "name": "Accounts Receivable",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/reports/accounts-receivable",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "reports",
                "accounts-receivable"
              ]
            },
            "description": "Contas a receber (pendentes e vencidas)"
          },
          "response": []
        },
        {
          "name": "Accounts Payable",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-Tenant-Id",
                "value": "{{tenant_id}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/reports/accounts-payable",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "reports",
                "accounts-payable"
              ]
            },
            "description": "Contas a pagar (pendentes e vencidas)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Data Seeder",
      "description": "üå± Endpoints para gera√ß√£o e gerenciamento de dados de teste/exemplo\n\n‚ö†Ô∏è IMPORTANTE: Estes endpoints s√£o destinados apenas para desenvolvimento e testes.\n\nüìö Documenta√ß√£o completa: docs/SEED_API_GUIDE.md",
      "item": [
        {
          "name": "Get Demo Info",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/data-seeder/demo-info",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "data-seeder",
                "demo-info"
              ]
            },
            "description": "üìã Retorna informa√ß√µes detalhadas sobre os dados de exemplo que ser√£o criados.\n\n**N√£o cria nenhum dado no banco**, apenas mostra o que ser√° criado.\n\n**Dados que ser√£o criados:**\n- 5 Planos de assinatura\n- 1 Cl√≠nica Demo\n- 1 Propriet√°rio (Owner)\n- 3 Usu√°rios (Admin, M√©dico, Recepcionista)\n- 6 Pacientes (incluindo crian√ßas)\n- 8 Procedimentos\n- 5 Agendamentos\n- 2 Pagamentos\n- 8 Medicamentos\n- 2 Prontu√°rios m√©dicos\n- 4 Templates de prescri√ß√£o\n- 3 Templates de prontu√°rio\n- 5 Notifica√ß√µes\n- 5 Rotinas de notifica√ß√£o\n- 10 Despesas\n- 5 Solicita√ß√µes de exames"
          },
          "response": []
        },
        {
          "name": "Seed Demo Data",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Salva as credenciais nas vari√°veis da cole√ß√£o para uso posterior",
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    ",
                  "    // Salva o tenant ID",
                  "    pm.collectionVariables.set('tenant_id', jsonData.tenantId);",
                  "    ",
                  "    console.log('‚úÖ Demo data seeded successfully!');",
                  "    console.log('üìã TenantID:', jsonData.tenantId);",
                  "    console.log('');",
                  "    console.log('üîë Credenciais de acesso:');",
                  "    console.log('');",
                  "    console.log('üëë Owner:');",
                  "    console.log('   Username:', jsonData.credentials.owner.username);",
                  "    console.log('   Password:', jsonData.credentials.owner.password);",
                  "    console.log('');",
                  "    console.log('üë• Users:');",
                  "    jsonData.credentials.users.forEach(user => {",
                  "        console.log('   -', user.role, ':', user.username, '/', user.password);",
                  "    });",
                  "    console.log('');",
                  "    console.log('üìö Pr√≥ximo passo: Execute o endpoint \"Login\" na pasta Auth');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/data-seeder/seed-demo",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "data-seeder",
                "seed-demo"
              ]
            },
            "description": "üå± **Cria TODOS os dados de exemplo no banco de dados.**\n\n‚ö†Ô∏è **IMPORTANTE**: Este endpoint s√≥ pode ser executado UMA vez. Se voc√™ tentar executar novamente com dados j√° existentes, receber√° um erro.\n\n**O que este endpoint cria:**\n\n‚úÖ **5 Planos de assinatura** (Trial, B√°sico, Standard, Premium, Enterprise)\n‚úÖ **1 Cl√≠nica Demo** completa com configura√ß√µes\n‚úÖ **1 Assinatura ativa** (Plano Standard)\n‚úÖ **1 Propriet√°rio** da cl√≠nica (Owner)\n‚úÖ **3 Usu√°rios** com diferentes perfis:\n   - Admin (SystemAdmin)\n   - Dr. Silva (Doctor)\n   - Maria Santos (Receptionist)\n‚úÖ **6 Pacientes** incluindo 2 crian√ßas com respons√°vel\n‚úÖ **8 Procedimentos** diversos (consultas, exames, vacinas, etc.)\n‚úÖ **5 Agendamentos** (passados, hoje e futuros)\n‚úÖ **2 Pagamentos** processados\n‚úÖ **8 Medicamentos** cadastrados\n‚úÖ **2 Prontu√°rios m√©dicos** completos\n‚úÖ **4 Templates de prescri√ß√£o**\n‚úÖ **3 Templates de prontu√°rio**\n‚úÖ **5 Notifica√ß√µes** em diversos estados\n‚úÖ **5 Rotinas de notifica√ß√£o** automatizadas\n‚úÖ **10 Despesas** (pagas, pendentes, vencidas)\n‚úÖ **5 Solicita√ß√µes de exames**\n\n**Credenciais criadas:**\n\nüîë **Owner**: owner.demo / Owner@123\nüîë **Admin**: admin / Admin@123\nüîë **M√©dico**: dr.silva / Doctor@123\nüîë **Recepcionista**: recep.maria / Recep@123\n\n**TenantID**: demo-clinic-001\n\n**Ap√≥s executar este endpoint:**\n1. V√° para a pasta \"Auth\"\n2. Execute o endpoint \"Login\" com um dos usu√°rios acima\n3. Copie o token retornado\n4. Cole o token na vari√°vel `bearer_token` da cole√ß√£o\n5. Pronto! Todos os endpoints est√£o prontos para uso\n\nüìö **Documenta√ß√£o completa**: docs/SEED_API_GUIDE.md"
          },
          "response": []
        },
        {
          "name": "Seed System Owner",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Exibe as credenciais do System Owner",
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    ",
                  "    console.log('‚úÖ System Owner created successfully!');",
                  "    console.log('');",
                  "    console.log('üîë Credenciais:');",
                  "    console.log('   Username:', jsonData.owner.username);",
                  "    console.log('   Password:', jsonData.owner.password);",
                  "    console.log('   Email:', jsonData.owner.email);",
                  "    console.log('   TenantID:', jsonData.owner.tenantId);",
                  "    console.log('');",
                  "    console.log('‚ö†Ô∏è IMPORTANTE: Troque a senha ap√≥s o primeiro login!');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/data-seeder/seed-system-owner",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "data-seeder",
                "seed-system-owner"
              ]
            },
            "description": "üëë **Cria um propriet√°rio do sistema (System Owner).**\n\n**O que √© um System Owner?**\n√â o administrador m√°ximo da plataforma, com acesso a TODAS as cl√≠nicas e configura√ß√µes do sistema.\n\n**Credenciais criadas:**\n- **Username**: admin\n- **Password**: Admin@123\n- **Email**: admin@medicwarehouse.com\n- **TenantID**: system\n\n‚ö†Ô∏è **ATEN√á√ÉO**: \n- Este endpoint s√≥ est√° dispon√≠vel em ambiente de desenvolvimento\n- Ou quando `Development:EnableDevEndpoints` est√° configurado como `true`\n- Se o System Owner j√° existir, retorna as informa√ß√µes dele\n\n**Para fazer login:**\n1. Use o endpoint `POST /api/auth/owner-login`\n2. Username: admin\n3. Password: Admin@123\n4. TenantID: system\n\n‚ö†Ô∏è **IMPORTANTE**: Troque a senha ap√≥s o primeiro login!"
          },
          "response": []
        },
        {
          "name": "Clear Database",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// Aviso antes de executar",
                  "console.log('‚ö†Ô∏è ATEN√á√ÉO: Este endpoint ir√° deletar TODOS os dados de exemplo!');",
                  "console.log('');",
                  "console.log('Se voc√™ realmente deseja continuar, execute o request.');",
                  "console.log('');",
                  "console.log('Ap√≥s limpar, voc√™ pode recriar os dados executando \"Seed Demo Data\".');"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    ",
                  "    console.log('‚úÖ Database cleared successfully!');",
                  "    console.log('');",
                  "    console.log('üìã Tabelas limpas:', jsonData.deletedTables.length);",
                  "    console.log('');",
                  "    console.log('üå± Para recriar os dados, execute: \"Seed Demo Data\"');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/data-seeder/clear-database",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "data-seeder",
                "clear-database"
              ]
            },
            "description": "üóëÔ∏è **REMOVE TODOS OS DADOS DE EXEMPLO DO BANCO DE DADOS**\n\n‚ö†Ô∏è **PERIGO**: Este endpoint deleta TODOS os dados de teste. Use com extremo cuidado!\n\n**O que ser√° deletado:**\n- ‚ùå Planos de assinatura\n- ‚ùå Cl√≠nicas\n- ‚ùå Propriet√°rios (Owners)\n- ‚ùå Usu√°rios\n- ‚ùå Pacientes\n- ‚ùå Procedimentos\n- ‚ùå Agendamentos\n- ‚ùå Pagamentos\n- ‚ùå Prontu√°rios m√©dicos\n- ‚ùå Prescri√ß√µes\n- ‚ùå Medicamentos\n- ‚ùå Templates\n- ‚ùå Notifica√ß√µes\n- ‚ùå Despesas\n- ‚ùå Solicita√ß√µes de exames\n- ‚ùå E tudo mais relacionado\n\n‚ö†Ô∏è **ATEN√á√ÉO**:\n- Este endpoint s√≥ est√° dispon√≠vel em ambiente de desenvolvimento\n- Ou quando `Development:EnableDevEndpoints` est√° configurado como `true`\n- A dele√ß√£o segue a ordem correta respeitando foreign keys\n- Ap√≥s limpar, voc√™ pode recriar os dados executando \"Seed Demo Data\"\n\n**Quando usar:**\n- Quando voc√™ quer come√ßar do zero\n- Quando os dados de teste ficaram inconsistentes\n- Para testar a cria√ß√£o de dados novamente\n\n**N√ÉO use em produ√ß√£o!** Este endpoint deve estar sempre desabilitado em produ√ß√£o."
          },
          "response": []
        }
      ]
    }
  ]
}
