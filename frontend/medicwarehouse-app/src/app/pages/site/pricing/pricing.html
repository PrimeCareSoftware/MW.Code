<app-header></app-header>

<main class="omni-care-site">
  <section class="section-padding">
    <div class="container-custom">
      <!-- Header -->
      <div class="pricing-header">
        <span class="section-badge">Planos e PreÃ§os</span>
        <h1 class="section-title">
          Escolha o plano ideal <span class="text-gradient">para sua clÃ­nica</span>
        </h1>
        <p class="section-description">
          Planos flexÃ­veis que crescem com vocÃª. Cancele quando quiser.
        </p>
      </div>

      <!-- Loading State -->
      <div *ngIf="loading" class="loading-container">
        <p>Carregando planos...</p>
      </div>

      <!-- Plans Grid -->
      <div class="omni-grid cols-3" *ngIf="!loading">
        <div *ngFor="let plan of plans; let i = index" 
             [hidden]="!plan.isActive"
             class="plan-card animate-fade-in-up"
             [class.plan-highlighted]="plan.isRecommended"
             [style.animation-delay]="(i * 0.1) + 's'">
          
          <!-- Popular Badge -->
          <div class="plan-badge hero-gradient" *ngIf="plan.isRecommended">
            <span class="material-icons">star</span>
            Mais Popular
          </div>

          <!-- Plan Header -->
          <div class="plan-header">
            <h3 class="plan-name">{{ plan.name }}</h3>
            <p class="plan-description">{{ plan.description }}</p>
          </div>

          <!-- Pricing -->
          <div class="plan-pricing">
            <!-- MVP Campaign Price -->
            <div *ngIf="plan.isMvp && plan.earlyAdopterPrice" class="campaign-pricing">
              <div class="current-price">
                <span class="currency">R$</span>
                <span class="amount">{{ plan.earlyAdopterPrice }}</span>
                <span class="period">/mÃªs</span>
              </div>
              <div class="original-price" *ngIf="plan.futurePrice">
                <span>De: R$ {{ plan.futurePrice }}/mÃªs</span>
              </div>
              <div class="savings-badge" *ngIf="plan.savingsPercentage">
                ğŸ’° Economize {{ plan.savingsPercentage }}%
              </div>
            </div>

            <!-- Regular Price -->
            <div *ngIf="!plan.isMvp" class="regular-pricing">
              <span class="currency" *ngIf="plan.monthlyPrice > 0">R$</span>
              <span class="amount" *ngIf="plan.monthlyPrice > 0">{{ plan.monthlyPrice }}</span>
              <span class="amount custom-price" *ngIf="plan.monthlyPrice === 0">Sob consulta</span>
              <span class="period" *ngIf="plan.monthlyPrice > 0">/mÃªs</span>
            </div>
          </div>

          <!-- Call to Action Button -->
          <button class="omni-btn" 
                  [class.omni-btn-primary]="!plan.isRecommended"
                  [class.hero-gradient]="plan.isRecommended"
                  (click)="selectPlan(plan)">
            <span *ngIf="plan.monthlyPrice > 0 && plan.isMvp">ğŸš€ Garantir PreÃ§o Early Adopter</span>
            <span *ngIf="plan.monthlyPrice > 0 && !plan.isMvp">Assinar Agora</span>
            <span *ngIf="plan.monthlyPrice === 0">Falar com Vendas</span>
          </button>

          <!-- Features -->
          <ul class="plan-features">
            <li *ngFor="let feature of plan.features" class="feature-item">
              <span class="material-icons feature-icon success">check_circle</span>
              {{ feature }}
            </li>
          </ul>

          <!-- Features In Development -->
          <div *ngIf="plan.featuresInDevelopment && plan.featuresInDevelopment.length > 0" class="features-development">
            <h4 class="features-title">ğŸ”„ Em Desenvolvimento</h4>
            <ul class="plan-features">
              <li *ngFor="let feature of plan.featuresInDevelopment" class="feature-item development">
                <span class="material-icons feature-icon">schedule</span>
                {{ feature }}
              </li>
            </ul>
          </div>

          <!-- Early Adopter Benefits -->
          <div *ngIf="plan.earlyAdopterBenefits && plan.earlyAdopterBenefits.length > 0" class="early-adopter-benefits">
            <h4 class="features-title">ğŸ BenefÃ­cios Early Adopter</h4>
            <ul class="plan-features">
              <li *ngFor="let benefit of plan.earlyAdopterBenefits" class="feature-item benefit">
                <span class="material-icons feature-icon">card_giftcard</span>
                {{ benefit }}
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- FAQ CTA -->
      <div class="pricing-cta">
        <p class="cta-question">Tem dÃºvidas sobre qual plano escolher?</p>
        <a routerLink="/site/contact" class="omni-btn omni-btn-secondary">
          Fale com um Especialista
        </a>
      </div>
    </div>
  </section>
</main>

<app-footer></app-footer>
