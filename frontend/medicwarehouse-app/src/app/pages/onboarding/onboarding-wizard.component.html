<div class="onboarding-wizard">
  <!-- Progress Bar -->
  <div class="progress-container">
    <div class="progress-bar">
      <div class="progress-fill" [style.width.%]="getProgressPercentage()"></div>
    </div>
    <div class="steps-indicator">
      <div 
        *ngFor="let step of steps" 
        class="step-item"
        [class.active]="step.id === currentStep"
        [class.completed]="step.completed"
        (click)="goToStep(step.id)"
      >
        <div class="step-number">
          <span *ngIf="!step.completed">{{ step.id }}</span>
          <span *ngIf="step.completed" class="checkmark">‚úì</span>
        </div>
        <div class="step-info">
          <div class="step-title">{{ step.title }}</div>
          <div class="step-description">{{ step.description }}</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Error Alert -->
  <div *ngIf="error" class="alert alert-error">
    <span class="icon">‚ö†Ô∏è</span>
    <span>{{ error }}</span>
  </div>

  <!-- Step 1: Business Type -->
  <div *ngIf="currentStep === 1" class="wizard-step">
    <div class="step-header">
      <h1>Qual o tipo do seu neg√≥cio?</h1>
      <p>Selecione o porte que melhor descreve sua cl√≠nica ou consult√≥rio</p>
    </div>

    <div class="options-grid">
      <div 
        *ngFor="let option of businessTypeOptions"
        class="option-card large"
        [class.selected]="selectedBusinessType === option.value"
        (click)="selectBusinessType(option.value)"
      >
        <div class="option-icon">{{ option.icon }}</div>
        <h3>{{ option.label }}</h3>
        <p class="description">{{ option.description }}</p>
        <p class="details">{{ option.details }}</p>
      </div>
    </div>
  </div>

  <!-- Step 2: Specialty -->
  <div *ngIf="currentStep === 2" class="wizard-step">
    <div class="step-header">
      <h1>Qual sua especialidade principal?</h1>
      <p>Isso ajudar√° a personalizar a terminologia e recursos do sistema</p>
    </div>

    <div class="options-grid specialty-grid">
      <div 
        *ngFor="let option of specialtyOptions"
        class="option-card"
        [class.selected]="selectedSpecialty === option.value"
        (click)="selectSpecialty(option.value)"
      >
        <div class="option-icon">{{ option.icon }}</div>
        <h3>{{ option.label }}</h3>
        <p class="description">{{ option.description }}</p>
      </div>
    </div>
  </div>

  <!-- Step 3: Features Preview -->
  <div *ngIf="currentStep === 3" class="wizard-step">
    <div class="step-header">
      <h1>Recursos Recomendados</h1>
      <p>Com base nas suas escolhas, estes recursos ser√£o habilitados</p>
    </div>

    <div class="features-preview">
      <div class="preview-card">
        <h3>‚ú® Recursos Ativados</h3>
        <ul class="features-list">
          <li *ngFor="let feature of recommendedFeatures">
            <span class="feature-icon">‚úì</span>
            <span>{{ feature }}</span>
          </li>
        </ul>
        <p class="note">
          Voc√™ poder√° personalizar estes recursos depois nas configura√ß√µes.
        </p>
      </div>

      <div class="preview-card" *ngIf="previewTerminology">
        <h3>üìù Terminologia Personalizada</h3>
        <div class="terminology-examples">
          <div class="terminology-item">
            <span class="term-label">Atendimento:</span>
            <span class="term-value">{{ previewTerminology.appointment }}</span>
          </div>
          <div class="terminology-item">
            <span class="term-label">Profissional:</span>
            <span class="term-value">{{ previewTerminology.professional }}</span>
          </div>
          <div class="terminology-item">
            <span class="term-label">Registro:</span>
            <span class="term-value">{{ previewTerminology.registration }}</span>
          </div>
          <div class="terminology-item">
            <span class="term-label">Cliente:</span>
            <span class="term-value">{{ previewTerminology.client }}</span>
          </div>
          <div class="terminology-item">
            <span class="term-label">Documento Principal:</span>
            <span class="term-value">{{ previewTerminology.mainDocument }}</span>
          </div>
          <div class="terminology-item">
            <span class="term-label">Documento de Sa√≠da:</span>
            <span class="term-value">{{ previewTerminology.exitDocument }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Step 4: Confirmation -->
  <div *ngIf="currentStep === 4" class="wizard-step">
    <div class="step-header">
      <h1>Confirme sua Configura√ß√£o</h1>
      <p>Revise as informa√ß√µes antes de finalizar</p>
    </div>

    <div class="confirmation-summary">
      <div class="summary-card">
        <div class="summary-icon">‚úÖ</div>
        <h2>Tudo Pronto!</h2>
        <p>Sua cl√≠nica ser√° configurada com as seguintes caracter√≠sticas:</p>
        
        <div class="summary-details">
          <div class="detail-item">
            <span class="detail-label">Tipo de Neg√≥cio:</span>
            <span class="detail-value">
              {{ getSelectedBusinessTypeLabel() }}
            </span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Especialidade:</span>
            <span class="detail-value">
              {{ getSelectedSpecialtyLabel() }}
            </span>
          </div>
          <div class="detail-item">
            <span class="detail-label">Recursos Ativados:</span>
            <span class="detail-value">{{ recommendedFeatures.length }} recursos</span>
          </div>
        </div>

        <div class="info-box">
          <p>
            <strong>O que acontece agora?</strong><br>
            Ao confirmar, sua configura√ß√£o ser√° salva e voc√™ ser√° redirecionado para o painel de administra√ß√£o,
            onde poder√° ajustar qualquer configura√ß√£o conforme necess√°rio.
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Navigation Buttons -->
  <div class="wizard-navigation">
    <button 
      class="btn btn-secondary"
      *ngIf="currentStep > 1"
      (click)="previousStep()"
      [disabled]="loading"
    >
      ‚Üê Voltar
    </button>

    <div class="spacer"></div>

    <button 
      class="btn btn-primary"
      *ngIf="currentStep < totalSteps"
      (click)="nextStep()"
      [disabled]="!canProceedToNextStep()"
    >
      Continuar ‚Üí
    </button>

    <button 
      class="btn btn-success"
      *ngIf="currentStep === totalSteps"
      (click)="finish()"
      [disabled]="loading || !canProceedToNextStep()"
    >
      <span *ngIf="!loading">Finalizar Configura√ß√£o</span>
      <span *ngIf="loading">Salvando...</span>
    </button>
  </div>
</div>
